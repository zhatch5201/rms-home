{"ast":null,"code":"'use strict';\n\nvar mimicFn = require('mimic-fn');\n\nvar calledFunctions = new WeakMap();\n\nvar onetime = function onetime(function_) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (typeof function_ !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  var returnValue;\n  var callCount = 0;\n  var functionName = function_.displayName || function_.name || '<anonymous>';\n\n  var onetime = function onetime() {\n    calledFunctions.set(onetime, ++callCount);\n\n    if (callCount === 1) {\n      for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n        arguments_[_key] = arguments[_key];\n      }\n\n      returnValue = function_.apply(this, arguments_);\n      function_ = null;\n    } else if (options.throw === true) {\n      throw new Error(\"Function `\".concat(functionName, \"` can only be called once\"));\n    }\n\n    return returnValue;\n  };\n\n  mimicFn(onetime, function_);\n  calledFunctions.set(onetime, callCount);\n  return onetime;\n};\n\nmodule.exports = onetime; // TODO: Remove this for the next major release\n\nmodule.exports.default = onetime;\n\nmodule.exports.callCount = function (function_) {\n  if (!calledFunctions.has(function_)) {\n    throw new Error(\"The given function `\".concat(function_.name, \"` is not wrapped by the `onetime` package\"));\n  }\n\n  return calledFunctions.get(function_);\n};","map":{"version":3,"sources":["C:/Users/Zack/Desktop/rms-home/node_modules/onetime/index.js"],"names":["mimicFn","require","calledFunctions","WeakMap","onetime","function_","options","TypeError","returnValue","callCount","functionName","displayName","name","set","arguments_","apply","throw","Error","module","exports","default","has","get"],"mappings":"AAAA;;AACA,IAAMA,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AAEA,IAAMC,eAAe,GAAG,IAAIC,OAAJ,EAAxB;;AAEA,IAAMC,OAAO,GAAG,iBAACC,SAAD,EAA6B;AAAA,MAAjBC,OAAiB,uEAAP,EAAO;;AAC5C,MAAI,OAAOD,SAAP,KAAqB,UAAzB,EAAqC;AACpC,UAAM,IAAIE,SAAJ,CAAc,qBAAd,CAAN;AACA;;AAED,MAAIC,WAAJ;AACA,MAAIC,SAAS,GAAG,CAAhB;AACA,MAAMC,YAAY,GAAGL,SAAS,CAACM,WAAV,IAAyBN,SAAS,CAACO,IAAnC,IAA2C,aAAhE;;AAEA,MAAMR,OAAO,GAAG,SAAVA,OAAU,GAAyB;AACxCF,IAAAA,eAAe,CAACW,GAAhB,CAAoBT,OAApB,EAA6B,EAAEK,SAA/B;;AAEA,QAAIA,SAAS,KAAK,CAAlB,EAAqB;AAAA,wCAHOK,UAGP;AAHOA,QAAAA,UAGP;AAAA;;AACpBN,MAAAA,WAAW,GAAGH,SAAS,CAACU,KAAV,CAAgB,IAAhB,EAAsBD,UAAtB,CAAd;AACAT,MAAAA,SAAS,GAAG,IAAZ;AACA,KAHD,MAGO,IAAIC,OAAO,CAACU,KAAR,KAAkB,IAAtB,EAA4B;AAClC,YAAM,IAAIC,KAAJ,qBAAwBP,YAAxB,+BAAN;AACA;;AAED,WAAOF,WAAP;AACA,GAXD;;AAaAR,EAAAA,OAAO,CAACI,OAAD,EAAUC,SAAV,CAAP;AACAH,EAAAA,eAAe,CAACW,GAAhB,CAAoBT,OAApB,EAA6BK,SAA7B;AAEA,SAAOL,OAAP;AACA,CA1BD;;AA4BAc,MAAM,CAACC,OAAP,GAAiBf,OAAjB,C,CACA;;AACAc,MAAM,CAACC,OAAP,CAAeC,OAAf,GAAyBhB,OAAzB;;AAEAc,MAAM,CAACC,OAAP,CAAeV,SAAf,GAA2B,UAAAJ,SAAS,EAAI;AACvC,MAAI,CAACH,eAAe,CAACmB,GAAhB,CAAoBhB,SAApB,CAAL,EAAqC;AACpC,UAAM,IAAIY,KAAJ,+BAAkCZ,SAAS,CAACO,IAA5C,+CAAN;AACA;;AAED,SAAOV,eAAe,CAACoB,GAAhB,CAAoBjB,SAApB,CAAP;AACA,CAND","sourcesContent":["'use strict';\nconst mimicFn = require('mimic-fn');\n\nconst calledFunctions = new WeakMap();\n\nconst onetime = (function_, options = {}) => {\n\tif (typeof function_ !== 'function') {\n\t\tthrow new TypeError('Expected a function');\n\t}\n\n\tlet returnValue;\n\tlet callCount = 0;\n\tconst functionName = function_.displayName || function_.name || '<anonymous>';\n\n\tconst onetime = function (...arguments_) {\n\t\tcalledFunctions.set(onetime, ++callCount);\n\n\t\tif (callCount === 1) {\n\t\t\treturnValue = function_.apply(this, arguments_);\n\t\t\tfunction_ = null;\n\t\t} else if (options.throw === true) {\n\t\t\tthrow new Error(`Function \\`${functionName}\\` can only be called once`);\n\t\t}\n\n\t\treturn returnValue;\n\t};\n\n\tmimicFn(onetime, function_);\n\tcalledFunctions.set(onetime, callCount);\n\n\treturn onetime;\n};\n\nmodule.exports = onetime;\n// TODO: Remove this for the next major release\nmodule.exports.default = onetime;\n\nmodule.exports.callCount = function_ => {\n\tif (!calledFunctions.has(function_)) {\n\t\tthrow new Error(`The given function \\`${function_.name}\\` is not wrapped by the \\`onetime\\` package`);\n\t}\n\n\treturn calledFunctions.get(function_);\n};\n"]},"metadata":{},"sourceType":"script"}